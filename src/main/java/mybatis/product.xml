<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  		PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 		 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- product.xml -->

<mapper namespace="product.model.ProductBean">

<select id="getList" resultType="product.model.ProductBean">
	select * from product
	<if test="whatColumn == 'subject'">
		where subject like #{keyword}
	</if>
	<if test="whatColumn == 'contents'">
		where contents like #{keyword}
	</if>
	order by no desc
</select>
<!-- image2 ,3 dummy data 나중에 수정해줘야함 -->
<insert id="insertProduct">
	insert into product values(
	prdseq.nextval, #{sellerid}, #{subject}, #{category}, #{address}, #{image1}, 'dummy', 'dummy', #{contents}, #{price}, #{refundavailability}, sysdate, default, 0
	)
</insert>

<select id="getProduct" resultType="product.model.ProductBean">
	select * from product
	where no = #{no}
</select>

<select id="getLike" resultType="product.model.ProductLikeBean">
	select * from product_like
	where product_no = #{no}
</select>
</mapper>